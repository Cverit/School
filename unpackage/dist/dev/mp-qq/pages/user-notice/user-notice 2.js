(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/user-notice/user-notice"],{225:
/*!***************************************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/main.js?{"page":"pages%2Fuser-notice%2Fuser-notice"} ***!
  \***************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){e(/*! uni-pages */4),e(/*! @dcloudio/uni-stat */5);i(e(/*! vue */2));function i(t){return t&&t.__esModule?t:{default:t}}t(i(e(/*! ./pages/user-notice/user-notice.vue */226)).default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-qq/dist/index.js */1).createPage)},226:
/*!********************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/pages/user-notice/user-notice.vue ***!
  \********************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! ./user-notice.vue?vue&type=template&id=29e46986& */227),o=e(/*! ./user-notice.vue?vue&type=script&lang=js& */229);for(var a in o)"default"!==a&&function(t){e.d(i,t,function(){return o[t]})}(a);e(/*! ./user-notice.css?vue&type=style&index=0&lang=css& */231);var c=e(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */15),s=Object(c.default)(o.default,n.render,n.staticRenderFns,!1,null,null,null);s.options.__file="Users/yuanhy/Desktop/Chat/pages/user-notice/user-notice.vue",i.default=s.exports},227:
/*!***************************************************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/pages/user-notice/user-notice.vue?vue&type=template&id=29e46986& ***!
  \***************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-notice.vue?vue&type=template&id=29e46986& */228);e.d(i,"render",function(){return n.render}),e.d(i,"staticRenderFns",function(){return n.staticRenderFns})},228:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/yuanhy/Desktop/Chat/pages/user-notice/user-notice.vue?vue&type=template&id=29e46986& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,i,e){"use strict";e.r(i),e.d(i,"render",function(){return n}),e.d(i,"staticRenderFns",function(){return o});var n=function(){var t=this.$createElement;this._self._c},o=[];n._withStripped=!0},229:
/*!*********************************************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/pages/user-notice/user-notice.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-notice.vue?vue&type=script&lang=js& */230),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,function(){return n[t]})}(a);i.default=o.a},230:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/yuanhy/Desktop/Chat/pages/user-notice/user-notice.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,o=(n=e(/*! vue */2))&&n.__esModule?n:{default:n};var a={data:function(){return{user_id:0,noticeInfo:[],scroll_height:700,loading:!1,modalName:"",links:{}}},onLoad:function(t){var i=this;this.user_id=t.user_id,this.loading=!0,o.default.prototype.$http.request({url:"/users/notification",method:"POST",params:{user_id:this.user_id}}).then(function(t){for(var e in i.noticeInfo=t.data.data,i.links=t.data.links,i.noticeInfo)i.formatNotificationTime(e);i.loading=!1,i.$store.dispatch("clearNoticeCount")})},mounted:function(){this.getHeight()},methods:{loadNextPage:function(){var t=this;this.links.next&&(this.loading=!0,o.default.prototype.$http.request({url:this.links.next,method:"POST",params:{user_id:this.user_id}}).then(function(i){for(var e in t.links=i.data.links,t.noticeInfo.push.apply(t.noticeInfo,i.data.data),t.noticeInfo)t.formatNotificationTime(e);t.loading=!1}))},deleteNotice:function(t,i){var e=this;o.default.prototype.$http.request({url:"/notifications/delete",method:"POST",params:{notification_id:t}}).then(function(t){e.noticeInfo.splice(i,1),e.$refs.notification.open({type:"success",content:"删除成功",timeout:1500,isClick:!1})}).catch(function(t){e.$refs.notification.open({type:"warn",content:"删除失败",timeout:1500,isClick:!1})})},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},navigateTarget:function(i){switch(this.noticeInfo[i].notification_type){case"commodity_comment":t.navigateTo({url:"/pages/commodity/commodity?commodity_id="+this.noticeInfo[i].notification_target_id+"&comment=1"});break;case"article_comment":t.navigateTo({url:"/pages/article/article?article_id="+this.noticeInfo[i].notification_target_id+"&comment=1"});break;case"activity_comment":t.navigateTo({url:"/pages/activity/activity?activity_id="+this.noticeInfo[i].notification_target_id+"&comment=1"});break;case"recruit_comment":t.navigateTo({url:"/pages/recruit/recruit?recruit_id="+this.noticeInfo[i].notification_target_id+"&comment=1"})}},getHeight:function(){var i=this;t.getSystemInfo({success:function(e){i.screen_height=e.windowHeight,i.screen_width=e.windowWidth;t.createSelectorQuery().in(i).select("#scroll").boundingClientRect(function(t){i.scroll_height=i.screen_height-t.top}).exec()}})},formatNotificationTime:function(t){var i=this.noticeInfo[t].notification_created.split(" "),e=(new Date).toLocaleDateString(),n=Math.abs(Math.ceil((new Date(e)-new Date(i[0]))/864e5)),o=7-n;if(0===n)this.noticeInfo[t].display_time="今天 "+i[1];else if(1===n)this.noticeInfo[t].display_time="昨天 "+i[1];else if(2===n)this.noticeInfo[t].display_time="前天 "+i[1];else{if(o>0)switch(new Date(this.noticeInfo[t].notification_created).getDay()){case 0:this.noticeInfo[t].display_time="星期天 "+i[1];break;case 1:this.noticeInfo[t].display_time="星期一 "+i[1];break;case 2:this.noticeInfo[t].display_time="星期二 "+i[1];break;case 3:this.noticeInfo[t].display_time="星期三 "+i[1];break;case 4:this.noticeInfo[t].display_time="星期四 "+i[1];break;case 5:this.noticeInfo[t].display_time="星期五 "+i[1];break;case 6:this.noticeInfo[t].display_time="星期六 "+i[1]}else this.noticeInfo[t].display_time=this.noticeInfo[t].notification_created}}}};i.default=a}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-qq/dist/index.js */1).default)}},[[225,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-qq/pages/user-notice/user-notice.js.map