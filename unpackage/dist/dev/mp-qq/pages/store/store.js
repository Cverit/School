(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/store/store"],{50:
/*!********************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/pages/store/store.vue ***!
  \********************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var i=o(/*! ./store.vue?vue&type=template&id=c1f472d8& */51),n=o(/*! ./store.vue?vue&type=script&lang=js& */53);for(var a in n)"default"!==a&&function(t){o.d(e,t,function(){return n[t]})}(a);o(/*! ./store.css?vue&type=style&index=0&lang=css& */55);var r=o(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */15),s=Object(r.default)(n.default,i.render,i.staticRenderFns,!1,null,null,null);s.options.__file="Users/yuanhy/Desktop/Chat/pages/store/store.vue",e.default=s.exports},51:
/*!***************************************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/pages/store/store.vue?vue&type=template&id=c1f472d8& ***!
  \***************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,o){"use strict";o.r(e);var i=o(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./store.vue?vue&type=template&id=c1f472d8& */52);o.d(e,"render",function(){return i.render}),o.d(e,"staticRenderFns",function(){return i.staticRenderFns})},52:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/yuanhy/Desktop/Chat/pages/store/store.vue?vue&type=template&id=c1f472d8& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,o){"use strict";o.r(e),o.d(e,"render",function(){return i}),o.d(e,"staticRenderFns",function(){return n});var i=function(){var t=this.$createElement;this._self._c},n=[];i._withStripped=!0},53:
/*!*********************************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/pages/store/store.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var i=o(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./store.vue?vue&type=script&lang=js& */54),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,function(){return i[t]})}(a);e.default=n.a},54:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/yuanhy/Desktop/Chat/pages/store/store.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,n=(i=o(/*! vue */2))&&i.__esModule?i:{default:i};function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var r={components:{WaterfallFlow:function(){return o.e(/*! import() | components/waterfall-flow/waterfall-flow */"components/waterfall-flow/waterfall-flow").then(o.bind(null,/*! ../../components/waterfall-flow/waterfall-flow.vue */160))}},data:function(){return{displayCategory:!1,categoryList:[],currentCategory:{},currentCategoryId:-1,categoryName:"",commodityList:[],scroll_height:700,loading:!1,links:{},loadFinish:!1,initList:!1,noResult:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},i=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),i.forEach(function(e){a(t,e,o[e])})}return t}({},(0,o(/*! vuex */27).mapState)({map_poi:function(t){return t.MapPoi}})),watch:{"$store.state.MapPoi.search_commodity":function(){var t=this;""!=this.map_poi.search_commodity&&(this.prepareForRequest(),n.default.prototype.$http.request({url:"/commodities/search",method:"POST",params:{search_keyword:this.map_poi.search_commodity}}).then(function(e){t.commodityList=e.data.data,t.links=e.data.links,setTimeout(function(){t.loading=!1},200)}).catch(function(e){t.noResult=!0,t.loading=!1}))}},mounted:function(){var t=this;this.loading=!0,this.getCategory(),this.loadCategoryCommodity(!0),setTimeout(function(){t.getHeight()},100)},methods:{navigateCommodity:function(e){t.navigateTo({url:"/pages/commodity/commodity?commodity_id="+e})},navigateSearch:function(){t.navigateTo({url:"/pages/search-commodity/search-commodity"})},getCategory:function(){var t=this;n.default.prototype.$http.get("/categories/get").then(function(e){t.categoryList=e.data.data.categories})},prepareForRequest:function(){this.commodityList=[],this.loadFinish=!1,this.initList=!this.initList,this.noResult=!1,this.loading=!0,this.$store.dispatch("clearSearchCommodity")},loadCategoryCommodity:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.prepareForRequest(),-1==this.currentCategoryId?n.default.prototype.$http.request({url:"/commodities/recommend",method:"POST"}).then(function(e){t.commodityList=e.data.data,t.links=e.data.links,setTimeout(function(){t.loading=!1},200)}).catch(function(e){t.noResult=!0,t.loading=!1}):n.default.prototype.$http.request({url:"/commodities/category",method:"POST",params:{category_id:this.currentCategoryId}}).then(function(e){t.commodityList=e.data.data,t.links=e.data.links,setTimeout(function(){t.loading=!1},200)}).catch(function(e){t.noResult=!0,t.loading=!1})},loadNextPage:function(t){var e=this;if(this.loading=!0,!this.links.next)return this.loadFinish=!0,void(this.loading=!1);n.default.prototype.$http.post(this.links.next).then(function(t){e.commodityList.push.apply(e.commodityList,t.data.data),e.links=t.data.links,setTimeout(function(){e.loading=!1},200)})},getHeight:function(){var e=this;t.getSystemInfo({success:function(o){e.screen_height=o.windowHeight;t.createSelectorQuery().in(e).select("#commodities").boundingClientRect(function(t){e.scroll_height=e.screen_height-t.top-55}).exec()}})},ChangeCategory:function(t){if(-1==t){if(t==this.currentCategoryId)return void this.hideModal();this.currentCategoryId=-1,this.categoryName="全部推荐",this.loadCategoryCommodity(),this.hideModal()}else{if(this.categoryList[t].category_id==this.currentCategoryId)return void this.hideModal();this.currentCategoryId=this.categoryList[t].category_id,this.categoryName=this.categoryList[t].category_name,this.loadCategoryCommodity(),this.hideModal()}},showModal:function(t){this.displayCategory=!0},hideModal:function(t){this.displayCategory=!1},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1)}}};e.default=r}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-qq/dist/index.js */1).default)},81:
/*!***************************************************************************!*\
  !*** /Users/yuanhy/Desktop/Chat/main.js?{"page":"pages%2Fstore%2Fstore"} ***!
  \***************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){o(/*! uni-pages */4),o(/*! @dcloudio/uni-stat */5);e(o(/*! vue */2));function e(t){return t&&t.__esModule?t:{default:t}}t(e(o(/*! ./pages/store/store.vue */50)).default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-qq/dist/index.js */1).createPage)}},[[81,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-qq/pages/store/store.js.map