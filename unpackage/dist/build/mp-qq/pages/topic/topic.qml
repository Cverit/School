<view><cu-custom vue-id="1" bgColor="bg-gradual-tab" isBack="{{true}}" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view style="font-size:28rpx!important;letter-spacing:1rpx;" slot="content">话题详情</view></cu-custom><scroll-view hidden="{{!(display)}}" class="animation-fade" style="{{'height:'+(scroll_height+'px')+';'}}" scroll-y id="scroll" scroll-top="{{scroll_top}}" data-event-opts="{{[['scrolltolower',[['loadNextPage',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{loading}}"><loading style="position:relative;top:450rpx;" vue-id="2" bind:__l="__l"></loading></block><block wx:if="{{!loading}}"><view class="max-width bg-white padding-bottom-sm"><view data-event-opts="{{[['tap',[['navigateUserShow',['$0','$1'],['topicInfo.topic_user.user_id','topicInfo.topic_anonymity']]]]]}}" class="padding-top padding-bottom-sm padding-left padding-right flex align-center info-border-bottom bg-white max-width" catchtap="__e"><block wx:if="{{!topicInfo.topic_anonymity}}"><image class="cu-avatar article-avatar avatar-shadow margin-right round avatar-border" src="{{topicInfo.topic_user.user_avatar}}"></image></block><block wx:else><image class="cu-avatar article-avatar avatar-shadow margin-right round avatar-border" style="background-color:#F1F1F1;" src="../../static/article/anonymity.png"></image></block><view class="flex-column justify-center"><block wx:if="{{!topicInfo.topic_anonymity}}"><text class="aricle-user-name margin-bottom-xs text-bold">{{topicInfo.topic_user.user_name}}</text></block><block wx:else><text class="aricle-user-name margin-bottom-xs text-bold">匿名用户</text></block><view><text class="article-create-time">{{topicInfo.topic_created}}</text><block wx:if="{{topicInfo.topic_display_location}}"><text class="article-create-time margin-left">{{"来自"+topicInfo.topic_user.user_school}}</text></block></view></view><block wx:if="{{!topicInfo.user_follow&&!topicInfo.topic_anonymity}}"><button data-event-opts="{{[['tap',[['tooglrUserFollow',['$event']]]]]}}" class="cu-btn bg-theme-green-black shadow-blur text-white text-sm animation-fade-quick" style="margin-left:auto;margin-right:0;" catchtap="__e">关注</button></block><block wx:if="{{topicInfo.user_follow&&!topicInfo.topic_anonymity}}"><button data-event-opts="{{[['tap',[['tooglrUserFollow',['$event']]]]]}}" class="cu-btn bg-grey shadow-blur text-white text-sm animation-fade-quick" style="margin-left:auto;margin-right:0;background-color:#BBBBBB;" catchtap="__e">已关注</button></block></view><block wx:if="{{topicInfo.topic_title}}"><view class="text-content padding-left padding-right padding-bottom-xs text-bold text-black padding-top-xs">{{''+topicInfo.topic_title+''}}</view></block><view class="text-content padding-left padding-right padding-bottom padding-top-sm"><text decode="true">{{topicInfo.topic_content}}</text></view><view class="grid flex-sub padding-lr col-3 grid-square margin-bottom-xs "><block wx:for="{{topicInfo.topic_images}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="bg-img" style="{{'background-image:'+('url('+item.image_url+')')+';'}}" data-url="{{item.image_url}}" data-event-opts="{{[['tap',[['viewImage',['$event']]]]]}}" catchtap="__e"></view></block></block></view><view class="flex align-center max-width justify-end padding-bottom-xs padding-top-xs padding-right"><text class="commodity-other-info margin-right-sm">超赞 ·<text class="margin-left-xs">{{topicInfo.topic_likes}}</text></text><text class="commodity-other-info margin-right-sm">回答 ·<text class="margin-left-xs">{{topicInfo.topic_answer_count}}</text></text><text class="commodity-other-info">浏览 ·<text class="margin-left-xs">{{topicInfo.topic_views}}</text></text></view></view></block><block wx:if="{{!loading&&answerInfo.length==0}}"><image class="max-width" src="../../static/article/no-answer.png" mode="widthFix"></image></block><block wx:for="{{answerInfo}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view data-event-opts="{{[['tap',[['navigateAnswer',['$0'],[[['answerInfo','',index,'answer_id']]]]]]]}}" class="cu-item shadow bg-white padding-top margin-top-xl margin-left margin-right" style="border-radius:20rpx;min-height:200rpx;" bindtap="__e"><view data-event-opts="{{[['tap',[['navigateUserShow',['$0','$1'],[[['answerInfo','',index,'answer_user.user_id']],[['answerInfo','',index,'answer_anonymity']]]]]]]}}" class=" padding-bottom-sm padding-left padding-right flex align-center info-border-bottom bg-white max-width" catchtap="__e"><block wx:if="{{!item.answer_anonymity}}"><image class="cu-avatar article-avatar avatar-shadow margin-right round avatar-border" src="{{item.answer_user.user_avatar}}"></image></block><block wx:else><image class="cu-avatar article-avatar avatar-shadow margin-right round avatar-border" style="background-color:#F1F1F1;" src="../../static/article/anonymity.png"></image></block><view class="flex-column justify-center"><block wx:if="{{!item.answer_anonymity}}"><text class="aricle-user-name margin-bottom-xs text-bold">{{item.answer_user.user_name}}</text></block><block wx:else><text class="aricle-user-name margin-bottom-xs text-bold">匿名用户</text></block><view><text class="article-create-time">{{item.answer_created}}</text><block wx:if="{{item.answer_display_location}}"><text class="article-create-time margin-left">{{"来自"+item.answer_user.user_school}}</text></block></view></view></view><block wx:if="{{item.answer_title}}"><view class="text-content padding-left padding-right text-bold text-black margin-top-xs text-cut" style="font-size:30rpx;">{{''+item.answer_title+''}}</view></block><view class="text-content padding-left padding-right margin-top margin-bottom activity_content" style="font-size:24rpx!important;line-height:40rpx;"><text decode="true">{{item.answer_content}}</text></view><view class="grid flex-sub padding-lr col-3 grid-square margin-bottom padding-bottom-sm"><block wx:for="{{item.answer_images}}" wx:for-item="imgItem" wx:for-index="index" wx:key="index"><block><view class="bg-img" style="{{'background-image:'+('url('+imgItem.image_url+')')+';'}}" data-url="{{imgItem.image_url}}" data-event-opts="{{[['tap',[['viewImage',['$event']]]]]}}" catchtap="__e"></view></block></block></view><view class="max-width flex align-center justify-between"><view class="article-create-time padding-left" style="position:relative;bottom:30rpx;">{{item.answer_created}}</view><view class="article-create-time" style="position:relative;right:30rpx;bottom:30rpx;"><text class="commodity-other-info margin-right-sm">超赞 ·<text class="margin-left-xs">{{item.answer_likes}}</text></text><text class="commodity-other-info">浏览 ·<text class="margin-left-xs">{{item.answer_views}}</text></text></view></view></view></block></block><block wx:if="{{loading}}"><loading vue-id="3" bind:__l="__l"></loading></block><view class="max-width" style="height:50rpx;"></view></scroll-view><view hidden="{{!(display)}}" class="cu-bar padding-right bg-white info-border-top animation-fade-quick max-width" style="position:fixed;bottom:0;"><view class="flex max-width"><block wx:if="{{!isInput}}"><view data-event-opts="{{[['tap',[['likeTopic',['$event']]]]]}}" class="action flex-column align-center padding-right-xl icon-button" bindtap="__e"><block wx:if="{{topicInfo.topic_like}}"><text class="cuIcon-appreciatefill text-theme-color commodity-icon animation-fade-quick"></text></block><block wx:else><text class="cuIcon-appreciate text-theme-color commodity-icon animation-fade-quick"></text></block><text class="text-xs text-theme-color padding-top-xs">超赞</text></view></block><view data-event-opts="{{[['tap',[['CollectTopic',['$event']]]]]}}" class="action flex-column align-center padding-right-xl icon-button" bindtap="__e"><block wx:if="{{topicInfo.topic_collect}}"><text class="cuIcon-favorfill text-theme-color commodity-icon animation-fade-quick"></text></block><block wx:else><text class="cuIcon-favor text-theme-color commodity-icon animation-fade-quick"></text></block><text class="text-xs text-theme-color padding-top-xs">收藏</text></view><button class="action flex-column align-center padding-right-xl icon-button " open-type="share"><text class="cuIcon-share text-theme-color commodity-icon animation-fade-quick"></text><text class="text-xs text-theme-color padding-top-xs">分享</text></button><button data-event-opts="{{[['tap',[['navigateAddAnswer',['$event']]]]]}}" class="cu-btn bg-theme-green-black shadow-blur text-white text-sm animation-fade-quick" style="margin:auto 30rpx auto auto;width:300rpx;" bindtap="__e">写回答</button></view></view><notification class="vue-ref" vue-id="4" isdistance="{{true}}" data-ref="notification" bind:__l="__l"></notification></view>